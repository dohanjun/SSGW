<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{common/layouts/default_layout}"
	  layout:fragment="content">
<head>
<meta charset="UTF-8">
<title></title>
</head>
<body>
     <div class="container text-center">
         <h3>사원 관리</h3>
         <table class="table">
            <thead>
                <tr>
                   <th>사원번호</th>
                   <th>부서</th>
                   <th>직급</th>
                   <th>이름</th>
                   <th>입사일</th>
                   <th>연락처</th>
                </tr>
            </thead>
            <tbody>                                   
              <th:block th:each="info, sts : ${emps}">
                <tr th:id="${info.employeeNo}"
                    th:onclick="|location.href='@{/empInfo(employeeNo=${info.employeeNo})}'|">
                   <td>[[${info.employeeNo}]]</td>                   
                   <td>[[${info.departmentName}]]</td>
                   <td>[[${info.jobTitleName}]]</td>
                   <td>[[${info.employeeName}]]</td>
                   <td>[[${#dates.format(info.hireDate, "yyyy년MM월dd일")}]]</td>
                   <td>[[${info.phoneNumber}]]</td>
                </tr>    
              </th:block>
            </tbody>
         </table>
        <div class="search-box">
            <select id="catemp">
                <option value="all">전체</option>
                <option value="departmentName">부서</option>
                <option value="jobTitleName">직급</option>
                <option value="employeeName">이름</option>
            </select>
            <input type="text" id="keyemp" placeholder="검색어 입력">
            <button onclick="employees()" class="btn btn-primary">검색</button>
        </div>
     </div>
     
     <script>
     // 사원 검색 기능
     function employees() {
         let category = document.getElementById("catemp").value;
         let keyword = document.getElementById("keyemp").value.trim();

         if (keyword === "") {
             alert("검색어를 입력하세요.");
             return;
         }

         console.log(`검색 카테고리: ${category}, 검색어: ${keyword}`);
         // Ajax 요청 추가 가능
     }
     </script>
</body>
</html>