<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default_layout}"
	layout:fragment="content">

<head>
<meta charset="UTF-8">
<title>메일 전달하기</title>
<script
	src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
	integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
	integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
	crossorigin="anonymous"></script>
<style>
/* 전체 페이지 레이아웃 */
.content-wrapper {
	display: flex;
	justify-content: center;
	align-items: center;
	min-height: 100vh; /* 화면을 가득 채우도록 설정 */
	width: 100%;
	background-color: #f7f9fc;
	padding: 40px 20px; /* 여백을 추가하여 화면을 꽉 채움 */
	box-sizing: border-box;
}

/* 메일 전달 박스 (카드 대신 여백을 두어 화면을 채움) */
.email-container {
	width: 100%;
	max-width: 900px; /* 최대 너비를 설정하여 너무 넓어지지 않도록 */
	background-color: white;
	border-radius: 10px;
	box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
	padding: 30px;
	margin: 0 auto; /* 중앙 정렬 */
}

/* 메일 전달 헤더 */
.email-header {
	font-size: 24px;
	font-weight: bold;
	color: #333;
	text-align: center;
	margin-bottom: 30px;
}

/* 폼 스타일 */
.table {
	width: 100%;
	margin: 20px 0;
}

th, td {
	text-align: left;
	padding: 12px;
}

th {
	background-color: #f8f9fc;
}

input[type="text"] {
	width: 100%;
	padding: 10px;
	border: 1px solid #ddd;
	border-radius: 5px;
	margin-top: 5px;
	font-size: 16px;
}

/* 버튼 스타일 */
button {
	width: 100%;
	padding: 12px;
	background-color: #4e73df;
	color: white;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	font-size: 16px;
	font-weight: bold;
}

button:hover {
	background-color: #2e59d9;
}

/* 메일 본문 내용 */
.email-details {
	font-size: 18px;
	line-height: 1.6;
	margin-top: 30px;
}

.email-details p {
	margin-bottom: 15px;
}

.email-details strong {
	font-weight: bold;
}

</style>
</head>

<body>
	<div class="content-wrapper">
		<div class="email-container">
		<div class="btn-container">
				<a class="btn btn-primary" th:onclick="|location.href='@{/mailSelect(mailId=${mail.mailId})}'|">이전으로</a>
			</div>
			<div class="email-header">메일 전달하기</div>
			<form th:action="@{mailVery}" method="post" class="user" id="emailForm">
				<table class="table">
					<tbody>
						<tr>
							<th>받는 사람</th>
							<td><input type="text" class="form-control" id="getUser" name="getUser"></td>
						</tr>
						<tr>
							<th>참조</th>
							<td><input type="text" class="form-control" id="cc" name="cc"></td>
						</tr>
					</tbody>
				</table>

				<!-- 제출 버튼 -->
				<button type="button" onclick="submitForm()">전달하기</button>
			</form>

			<!-- 메일 내용 보기 -->
			<div class="email-details">
				<p><strong>보낸 사람:</strong> <span th:text="${mail.employeeId}"></span></p>
				<p><strong>제목:</strong> <span th:text="${mail.title}"></span></p>
				<p><strong>파일 첨부:</strong> <span th:text="${mail.attachedFileName}"></span></p>
				<p><strong>본문:</strong> <span th:text="${mail.content}"></span></p>
			</div>
		</div>
	</div>

	<script>
		// 폼 제출 처리 함수
		function submitForm() {
			document.getElementById('emailForm').submit(); // 'emailForm' 아이디를 가진 폼을 제출
		}
	</script>
</body>
</html>